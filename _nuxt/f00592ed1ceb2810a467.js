(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{232:function(e,t,r){var content=r(253);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(22).default)("59f1ec1d",content,!0,{sourceMap:!1})},233:function(e,t,r){var content=r(255);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(22).default)("8001e62e",content,!0,{sourceMap:!1})},252:function(e,t,r){"use strict";var n=r(232);r.n(n).a},253:function(e,t,r){(t=r(21)(!1)).push([e.i,".player-wrapper[data-v-3ccc3f98]{position:relative;flex:1}.player[data-v-3ccc3f98]{height:100%}.player .player-video .avap-ads-container[data-v-3ccc3f98],.player .player-video .ima-ads-container[data-v-3ccc3f98]{display:none!important}.player__controls-wrap[data-v-3ccc3f98]{position:absolute;top:0;right:0;bottom:0;left:0;display:flex;z-index:1;justify-content:flex-end}.player__controls[data-v-3ccc3f98],.player__controls-wrap[data-v-3ccc3f98]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.player__controls[data-v-3ccc3f98]{opacity:0;transition:.25s}.player__controls.active[data-v-3ccc3f98]{opacity:1;-webkit-user-select:all;-moz-user-select:all;-ms-user-select:all;user-select:all}.player__change-quality[data-v-3ccc3f98]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;bottom:10px;right:10px;cursor:pointer}.player__change-quality i[data-v-3ccc3f98]{font-size:30px}.player__back[data-v-3ccc3f98]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;left:10px;top:10px;cursor:pointer;z-index:4}.player__back i[data-v-3ccc3f98]{font-size:30px}.player__follow[data-v-3ccc3f98],.player__unfollow[data-v-3ccc3f98]{color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;right:10px;top:10px;cursor:pointer;z-index:4}.player__follow i[data-v-3ccc3f98],.player__unfollow i[data-v-3ccc3f98]{font-size:30px}.player__loading[data-v-3ccc3f98]{top:0;z-index:3;background-color:rgba(0,0,0,.5);align-items:center;justify-content:center;text-align:center;font-weight:700;font-size:30px}.player__loading[data-v-3ccc3f98],.stream__info[data-v-3ccc3f98]{position:absolute;right:0;bottom:0;left:0;display:flex;color:#fff}.stream__info[data-v-3ccc3f98]{background-color:#000;padding:10px;align-items:flex-start;flex-wrap:wrap;z-index:5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.stream__info-logo-col[data-v-3ccc3f98]{padding:0 10px}.stream__info-info-col[data-v-3ccc3f98]{flex:1;padding:0 10px}.stream__logo[data-v-3ccc3f98]{width:50px;height:50px;background-size:cover;background-position:50%;border-radius:100%}",""]),e.exports=t},254:function(e,t,r){"use strict";var n=r(233);r.n(n).a},255:function(e,t,r){(t=r(21)(!1)).push([e.i,".stream[data-v-9708cf52]{display:flex;position:relative;height:100vh}",""]),e.exports=t},265:function(e,t,r){"use strict";r.r(t);r(8);var n=r(1),o={components:{},props:{userName:{type:String,default:""},streamerID:{type:String,default:""}},data:function(){return{isShowControls:!1,isFollowed:!1,streamInfo:null,isPlayerLoading:!1,player:null,qualities:[],currQuality:null,showQualityChange:!1,embed:null}},mounted:function(){var e=this;this.isPlayerLoading=!0;var t={channel:this.userName,width:"100%",height:"100%",layout:"video-with-chat",theme:"dark",controls:!1};this.embed=new Twitch.Embed(this.$refs.embed,t),this.embed.addEventListener(Twitch.Embed.VIDEO_READY,(function(){e.embed.getPlayer().play()}))},methods:{__changePlayerSize:function(){this.isPlayerFull=!this.isPlayerFull},__closeQualities:function(){this.showQualityChange=!1},__showControls:function(){this.isShowControls?this.isShowControls=!1:this.isShowControls=!0},__back:function(){this.$router.back()},__unFollow:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!confirm("Вы уверены, что хотите отписаться?")){t.next=7;break}return r=e.$store.state.auth.userID,t.next=5,e.$store.dispatch("favorites/unFollowChannel",[r,e.userID]);case 5:t.sent&&(e.isFollowed=!1);case 7:case"end":return t.stop()}}),t)})))()},__follow:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store.state.auth.userID,t.next=3,e.$store.dispatch("favorites/followChannel",[r,e.userID]);case 3:t.sent&&(e.isFollowed=!0);case 5:case"end":return t.stop()}}),t)})))()},__showQualities:function(){this.showQualityChange=!0},__changeQuality:function(q){this.player.setQuality(q),this.showQualityChange=!1},__getStreamInfo:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$get("https://api.twitch.tv/kraken/streams/".concat(e.userID),{headers:{Accept:"application/vnd.twitchtv.v5+json","Client-ID":"z97pdq1cei4wqu42l3kkkdnseq06bj"}});case 2:data=t.sent,e.streamInfo=data.stream;case 4:case"end":return t.stop()}}),t)})))()},__checkFollowChannel:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("auth/validateAuth");case 2:return r=e.$store.state.auth.userID,t.next=5,e.$store.dispatch("favorites/checkFollowChannel",[r,e.userID]);case 5:data=t.sent,e.isFollowed=data;case 7:case"end":return t.stop()}}),t)})))()}}},c=(r(252),r(13)),l={layout:"stream-page",components:{Player:Object(c.a)(o,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"playerWrapper",staticClass:"player-wrapper"},[t("div",{ref:"embed",staticClass:"embed player"})])}),[],!1,null,"3ccc3f98",null).exports},data:function(){return{userName:null,streamerID:null,isPlayerFull:!1}},created:function(){this.userName=this.$route.query.channel,this.streamerID=this.$route.query.id}},f=(r(254),Object(c.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"stream"},[t("Player",{attrs:{userName:this.userName,streamerID:this.streamerID}})],1)}),[],!1,null,"9708cf52",null));t.default=f.exports}}]);